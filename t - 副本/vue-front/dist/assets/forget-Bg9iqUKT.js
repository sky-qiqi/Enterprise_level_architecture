import{_ as h,r as g,c as w,o as V,a,b as s,w as n,E as y,d as v,O as A,P as x}from"./index-CQtPEPPp.js";import{_ as E}from"./bg-2-DQ5WRs7S.js";const $={data(){return{loginAccount:"",password:"",email:"",code:""}},methods:{toLogin(){this.$router.push("/logIn")},getEmailReg(){if(!this.email){this.$message({message:"请输入邮箱",type:"warning"});return}var l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(!l.test(this.email)){this.$message({message:"请输入正确的邮箱格式",type:"warning"});return}x({email:this.email}).then(e=>{e.code==100?this.$message({message:"验证码已发送",type:"success"}):this.$message({message:e.message,type:"warning"})})},forgetPassword(){if(!this.loginAccount){this.$message({message:"请输入登录账号",type:"warning"});return}if(!this.password){this.$message({message:"请输入密码",type:"warning"});return}if(!this.code){this.$message({message:"请输入用户名",type:"warning"});return}if(!this.email){this.$message({message:"请输入邮箱",type:"warning"});return}var l=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(!l.test(this.email)){this.$message({message:"请输入正确的邮箱格式",type:"warning"});return}var e={loginAccount:this.loginAccount,password:this.password,email:this.email,code:this.code};A(e).then(d=>{if(d.code===1e3){this.$message({message:"密码修改成功",type:"success"});var p=this;setTimeout(function(){p.$router.push("/logIn")},500)}else this.$message({message:d.message,type:"warning"})})}},created(){},mounted(){}},k={class:"login"},z={class:"login4"},C={class:"login5"};function U(l,e,d,p,t,i){const u=g("User"),r=y,m=v,c=g("Lock"),f=g("Message"),_=g("Comment");return V(),w("div",k,[e[7]||(e[7]=a("div",{class:"login1"},null,-1)),a("div",z,[a("div",C,[e[6]||(e[6]=a("img",{src:E,style:{"margin-bottom":"10px"}},null,-1)),s(m,{modelValue:t.loginAccount,"onUpdate:modelValue":e[0]||(e[0]=o=>t.loginAccount=o),placeholder:"请输入登录账号"},{prefix:n(()=>[s(r,null,{default:n(()=>[s(u)]),_:1})]),_:1},8,["modelValue"]),s(m,{type:"password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),placeholder:"请输入用户密码"},{prefix:n(()=>[s(r,null,{default:n(()=>[s(c)]),_:1})]),_:1},8,["modelValue"]),s(m,{modelValue:t.email,"onUpdate:modelValue":e[2]||(e[2]=o=>t.email=o),placeholder:"请输入邮箱"},{prefix:n(()=>[s(r,null,{default:n(()=>[s(f)]),_:1})]),_:1},8,["modelValue"]),s(m,{modelValue:t.code,"onUpdate:modelValue":e[3]||(e[3]=o=>t.code=o),placeholder:"请输入验证码"},{prefix:n(()=>[s(r,null,{default:n(()=>[s(_)]),_:1})]),_:1},8,["modelValue"]),a("div",{class:"login8",onClick:e[4]||(e[4]=(...o)=>i.forgetPassword&&i.forgetPassword(...o))}," 提交 "),a("div",{class:"login8",onClick:e[5]||(e[5]=(...o)=>i.getEmailReg&&i.getEmailReg(...o))}," 获取验证码 ")])])])}const P=h($,[["render",U],["__scopeId","data-v-0551f78c"]]);export{P as default};
