import{_ as d,c as u,o as c,a as o,b as g,E as m,g as p,l as f}from"./index-B6q5g7tU.js";import{_ as w}from"./bg-2-DQ5WRs7S.js";const _={data(){return{loginAccount:"",password:""}},methods:{toRegister(){this.$router.push("/register")},toForget(){this.$router.push("/forget")},login(){if(!this.loginAccount){this.$message({message:"请输入用户名",type:"warning"});return}if(!this.password){this.$message({message:"请输入密码",type:"warning"});return}const n={loginAccount:this.loginAccount,password:this.password};f(n).then(s=>{if(s.code===1e3){this.$message({message:"登录成功",type:"success"});const l=this,r=s.data.token;window.localStorage.setItem("user_token",r),this.getUserInfo(),setTimeout(function(){l.$router.push("/index")},500)}else this.$message.error(s.message)})},getUserInfo(){p().then(n=>{n.code===1e3&&window.localStorage.setItem("user_info",JSON.stringify(n.data))})}}},h={class:"login"},k={class:"login4"},v={class:"login5"},V={class:"login-links"};function x(n,s,l,r,i,t){const a=m;return c(),u("div",h,[o("div",k,[o("div",v,[s[5]||(s[5]=o("img",{src:w},null,-1)),s[6]||(s[6]=o("div",{class:"login6"},"欢迎使用",-1)),g(a,{"prefix-icon":"el-icon-user",modelValue:i.loginAccount,"onUpdate:modelValue":s[0]||(s[0]=e=>i.loginAccount=e),placeholder:"请输入登录账号"},null,8,["modelValue"]),g(a,{"prefix-icon":"el-icon-star-off",type:"password",modelValue:i.password,"onUpdate:modelValue":s[1]||(s[1]=e=>i.password=e),placeholder:"请输入用户密码"},null,8,["modelValue"]),o("div",V,[o("div",{class:"login7",onClick:s[2]||(s[2]=(...e)=>t.toForget&&t.toForget(...e))},"忘记密码？"),o("div",{class:"login-register",onClick:s[3]||(s[3]=(...e)=>t.toRegister&&t.toRegister(...e))},"注册")]),o("div",{class:"login-submit",onClick:s[4]||(s[4]=(...e)=>t.login&&t.login(...e))},"登 录")])])])}const y=d(_,[["render",x],["__scopeId","data-v-72ea3736"]]);export{y as default};
