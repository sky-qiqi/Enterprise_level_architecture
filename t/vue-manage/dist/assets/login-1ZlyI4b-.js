import{_,r as l,d as f,o as h,a as n,b as s,w as r,au as w,aw as v}from"./index-Ck829hgR.js";import{_ as x}from"./bg-2-DQ5WRs7S.js";const U={data(){return{loginAccount:"",password:""}},methods:{login(){if(!this.loginAccount){this.$message({message:"请输入用户名",type:"warning"});return}if(!this.password){this.$message({message:"请输入密码",type:"warning"});return}var o={loginAccount:this.loginAccount,password:this.password};v(o).then(e=>{if(e.code===1e3){this.$message({message:"登录成功",type:"success"});var a=this,d=e.data.token;this.$store.commit("user/setToken",d),this.getUserInfo(),setTimeout(function(){a.$router.push("/index")},500)}else this.$message.error(e.message)})},getUserInfo(){w().then(o=>{o.code===1e3&&this.$store.commit("user/setUser",JSON.stringify(o.data))})}},created(){},mounted(){}},V={class:"login"},k={class:"login4"},y={class:"login5"};function A(o,e,a,d,i,c){const u=l("User"),m=l("el-icon"),p=l("el-input"),g=l("Lock");return h(),f("div",V,[n("div",k,[n("div",y,[e[3]||(e[3]=n("img",{src:x,style:{width:"100%",height:"auto"}},null,-1)),e[4]||(e[4]=n("div",{class:"login6"},"登录旅游信息推荐系统后台",-1)),s(p,{modelValue:i.loginAccount,"onUpdate:modelValue":e[0]||(e[0]=t=>i.loginAccount=t),placeholder:"请输入登录账号",style:{"margin-bottom":"10px"}},{prefix:r(()=>[s(m,null,{default:r(()=>[s(u)]),_:1})]),_:1},8,["modelValue"]),s(p,{type:"password",modelValue:i.password,"onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),placeholder:"请输入用户密码"},{prefix:r(()=>[s(m,null,{default:r(()=>[s(g)]),_:1})]),_:1},8,["modelValue"]),n("div",{class:"login8",onClick:e[2]||(e[2]=(...t)=>c.login&&c.login(...t))}," 登 录 ")])])])}const B=_(U,[["render",A],["__scopeId","data-v-a2eb53b3"]]);export{B as default};
